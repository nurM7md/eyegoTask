(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{32383:()=>{},55488:(e,s,t)=>{"use strict";t.d(s,{G:()=>l,j:()=>r});var a=t(1213);let r=a.wA,l=a.d4},56485:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a=t(95155),r=t(52619),l=t.n(r),d=t(12115),i=t(9540),n=t(65229);let c=()=>{let[e,s]=(0,d.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[!e&&(0,a.jsx)("button",{onClick:()=>s(!0),className:"fixed z-50 p-3 text-white transition bg-gray-800 rounded-lg shadow-md md:hidden top-4 left-4 hover:bg-gray-700",children:(0,a.jsx)(i.A,{size:24})}),(0,a.jsxs)("div",{className:"fixed top-0 left-0 h-full w-64 bg-gray-900 text-white p-6 flex flex-col justify-between transform ".concat(e?"translate-x-0":"-translate-x-full"," transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:block z-40 shadow-lg"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold ",children:"Menu"}),(0,a.jsx)("button",{onClick:()=>s(!1),className:"p-2 text-gray-300 rounded hover:bg-gray-700 md:hidden",children:(0,a.jsx)(n.A,{size:22})})]}),(0,a.jsxs)("ul",{className:"space-y-3 text-gray-200",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:"/dashboard",className:"block px-4 py-2 font-medium rounded-md hover:bg-gray-700",onClick:()=>s(!1),children:"Dashboard"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:"/charts",className:"block px-4 py-2 font-medium rounded-md hover:bg-gray-700",onClick:()=>s(!1),children:"Charts"})})]})]}),e&&(0,a.jsx)("div",{className:"fixed inset-0 z-30 bg-black/50 md:hidden",onClick:()=>s(!1)})]})}},56744:(e,s,t)=>{"use strict";t.d(s,{Ay:()=>i,gw:()=>d,hG:()=>l,hU:()=>r});var a=t(26286);let r=(0,a.zD)("users/fetchUsers",async(e,s)=>{try{let e=await fetch("https://jsonplaceholder.typicode.com/users");return await e.json()}catch(e){return s.rejectWithValue("Failed to fetch users")}}),l=(0,a.zD)("users/deleteUser",async(e,s)=>{try{return await fetch("https://jsonplaceholder.typicode.com/users/".concat(e),{method:"DELETE"}),e}catch(e){return s.rejectWithValue("Failed to delete user")}}),d=(0,a.zD)("users/editUser",async(e,s)=>{let{id:t,data:a}=e;try{let e=await fetch("https://jsonplaceholder.typicode.com/users/".concat(t),{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json; charset=UTF-8"}});return await e.json()}catch(e){return s.rejectWithValue("Failed to edit user")}}),i=(0,a.Z0)({name:"users",initialState:{users:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,s)=>{e.loading=!1,e.users=s.payload}).addCase(r.rejected,(e,s)=>{e.loading=!1,e.error=s.payload}).addCase(l.fulfilled,(e,s)=>{e.users=e.users.filter(e=>e.id!==s.payload)}).addCase(d.fulfilled,(e,s)=>{e.users=e.users.map(e=>e.id===s.payload.id?s.payload:e)})}}).reducer},60956:(e,s,t)=>{Promise.resolve().then(t.bind(t,63513))},63513:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(95155),r=t(12115),l=t(68490),d=t(56744),i=t(22663),n=t(1213);let c=e=>{let{isOpen:s,onClose:t,user:l}=e,c=(0,n.wA)(),[o,u]=(0,r.useState)(""),[x,h]=(0,r.useState)("");(0,r.useEffect)(()=>{l&&(u(l.name),h(l.email))},[l]);let m=async e=>{e.preventDefault(),await c((0,d.gw)({id:l.id,data:{name:o,email:x}})),t(),i.Ay.success("user updated successfully")};return s?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,a.jsxs)("div",{className:"p-6 bg-white rounded shadow-lg dark:bg-gray-800 w-96",children:[(0,a.jsx)("h2",{className:"mb-4 text-xl font-semibold text-black",children:"Edit User"}),(0,a.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1 text-black",children:"Name"}),(0,a.jsx)("input",{type:"text",value:o,onChange:e=>u(e.target.value),className:"w-full p-2 text-black border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1 text-black",children:"Email"}),(0,a.jsx)("input",{type:"email",value:x,onChange:e=>h(e.target.value),className:"w-full p-2 text-black border rounded"})]}),(0,a.jsxs)("div",{className:"flex justify-between space-x-2",children:[(0,a.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-500 rounded hover:bg-gray-400",onClick:t,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-900 rounded hover:bg-blue-800",children:"Save"})]})]})]})}):null};var o=t(56485),u=t(4246),x=t(55172),h=t(36941),m=t(55488);let p=()=>{let e=(0,m.j)(),{users:s,loading:t,error:n}=(0,m.G)(e=>e.users),[p,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(null),[f,g]=(0,r.useState)({key:"id",direction:"asc"}),[N,v]=(0,r.useState)(""),[w,k]=(0,r.useState)(1);if((0,r.useEffect)(()=>{e((0,d.hU)())},[e]),t)return(0,a.jsx)("div",{children:"...loading"});if(n)return(0,a.jsxs)("div",{children:[" Error :",n]});let C=[...s.filter(e=>e.name.toLowerCase().includes(N.toLowerCase())||e.email.toLowerCase().includes(N.toLowerCase()))].sort((e,s)=>e[f.key]<s[f.key]?"asc"===f.direction?-1:1:e[f.key]>s[f.key]?"asc"===f.direction?1:-1:0),E=e=>{g(s=>({key:e,direction:s.key===e&&"asc"===s.direction?"desc":"asc"}))},A=5*w,D=C.slice(A-5,A),S=Math.ceil(C.length/5),_=s.map(e=>({ID:e.id,Name:e.name,Email:e.email}));return(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"flex min-h-screen text-gray-100 bg-gray-900",children:[(0,a.jsx)(o.A,{}),(0,a.jsxs)("div",{className:"flex-1 p-4 mt-8 overflow-x-auto md:p-6 md:ml-64",children:[(0,a.jsx)("h1",{className:"justify-center mb-6 text-2xl font-bold text-center",children:"Dashboard"}),(0,a.jsx)("input",{type:"text",placeholder:"Search user...",className:"w-full p-2 mb-4 text-white border rounded",value:N,onChange:e=>v(e.target.value)}),(0,a.jsx)("div",{className:"overflow-x-auto bg-gray-800 rounded shadow",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,a.jsx)("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>E("id"),children:"ID"}),(0,a.jsx)("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>E("name"),children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>E("email"),children:"Email"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:D.map(s=>(0,a.jsxs)("tr",{className:"border-b border-gray-700 hover:bg-gray-700",children:[(0,a.jsx)("td",{className:"px-4 py-2",children:s.id}),(0,a.jsx)("td",{className:"px-4 py-2",children:s.name}),(0,a.jsx)("td",{className:"px-4 py-2",children:s.email}),(0,a.jsxs)("td",{className:"flex flex-col justify-between gap-1 px-4 py-2 space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[(0,a.jsx)("button",{className:"px-3 py-1 text-sm text-white transition-colors bg-blue-900 rounded hover:bg-blue-800",onClick:()=>{j(s),b(!0)},children:"Edit"}),(0,a.jsx)("button",{className:"px-3 py-1 text-sm text-white transition-colors bg-red-700 rounded hover:bg-red-800",onClick:()=>{var t;return t=s.id,void(e((0,d.hG)(t)),i.Ay.success("user deleted successfully"))},children:"Delete"})]})]},s.id))})]})}),p&&(0,a.jsx)(c,{isOpen:p,onClose:()=>b(!1),user:y}),(0,a.jsxs)("div",{className:"flex flex-col justify-between mt-4 md:flex-row",children:[(0,a.jsxs)("div",{className:"flex justify-between gap-4 mb-2 space-x-2 md:mb-0",children:[(0,a.jsx)("button",{className:"px-4 py-2 text-white transition-colors bg-green-700 rounded hover:bg-green-800",onClick:()=>{let e=u.Wp.json_to_sheet(_),s=u.Wp.book_new();u.Wp.book_append_sheet(s,e,"Users"),u._h(s,"users.xlsx")},children:"Export Excel"}),(0,a.jsx)("button",{className:"px-4 py-2 text-white transition-colors bg-green-700 rounded hover:bg-green-800",onClick:()=>{let e=new x.uE;e.text("Users List",14,16),(0,h.Ay)(e,{startY:20,head:[["ID","Name","Email"]],body:_.map(e=>[e.ID,e.Name,e.Email])}),e.save("users.pdf")},children:"Export PDF"})]}),(0,a.jsx)("div",{className:"flex justify-center",children:Array.from({length:S},(e,s)=>(0,a.jsx)("button",{onClick:()=>k(s+1),className:"px-3 py-1 rounded mx-1 ".concat(w===s+1?"bg-blue-900 text-white":"bg-gray-700 text-gray-200"),children:s+1},s))})]})]})]})})}},68490:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(95155),r=t(20063),l=t(12115),d=t(1213);let i=e=>{let{children:s}=e,{user:t,loading:i}=(0,d.d4)(e=>e.auth),n=(0,r.useRouter)();return((0,l.useEffect)(()=>{i||t||n.push("/login")},[t,i,n]),i)?(0,a.jsx)("div",{children:"...Loading"}):(0,a.jsx)(a.Fragment,{children:s})}},83686:()=>{}},e=>{e.O(0,[524,33,930,176,663,206,8,441,255,358],()=>e(e.s=60956)),_N_E=e.O()}]);